/*! jQuery UI - v1.10.0 - 2013-01-26
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.resizable.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */
(function(f,b){function a(j,m){var k,h,l,e=j.nodeName.toLowerCase();return"area"===e?(k=j.parentNode,h=k.name,!j.href||!h||k.nodeName.toLowerCase()!=="map"?!1:(l=f("img[usemap=#"+h+"]")[0],!!l&&c(l))):(/input|select|textarea|button|object/.test(e)?!j.disabled:"a"===e?j.href||m:m)&&c(j)}function c(e){return f.expr.filters.visible(e)&&!f(e).parents().addBack().filter(function(){return f.css(this,"visibility")==="hidden"}).length}var g=0,d=/^ui-id-\d+$/;f.ui=f.ui||{};if(f.ui.version){return}f.extend(f.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),f.fn.extend({_focus:f.fn.focus,focus:function(e,h){return typeof e=="number"?this.each(function(){var i=this;setTimeout(function(){f(i).focus(),h&&h.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return f.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?e=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.css(this,"position"))&&/(auto|scroll)/.test(f.css(this,"overflow")+f.css(this,"overflow-y")+f.css(this,"overflow-x"))}).eq(0):e=this.parents().filter(function(){return/(auto|scroll)/.test(f.css(this,"overflow")+f.css(this,"overflow-y")+f.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?f(document):e},zIndex:function(k){if(k!==b){return this.css("zIndex",k)}if(this.length){var j=f(this[0]),e,h;while(j.length&&j[0]!==document){e=j.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){h=parseInt(j.css("zIndex"),10);if(!isNaN(h)&&h!==0){return h}}j=j.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&f(this).removeAttr("id")})}}),f.extend(f.expr[":"],{data:f.expr.createPseudo?f.expr.createPseudo(function(e){return function(h){return !!f.data(h,e)}}):function(e,i,h){return !!f.data(e,h[3])},focusable:function(e){return a(e,!isNaN(f.attr(e,"tabindex")))},tabbable:function(e){var i=f.attr(e,"tabindex"),h=isNaN(i);return(h||i>=0)&&a(e,!h)}}),f("<a>").outerWidth(1).jquery||f.each(["Width","Height"],function(m,k){function e(i,q,p,o){return f.each(h,function(){q-=parseFloat(f.css(i,"padding"+this))||0,p&&(q-=parseFloat(f.css(i,"border"+this+"Width"))||0),o&&(q-=parseFloat(f.css(i,"margin"+this))||0)}),q}var h=k==="Width"?["Left","Right"]:["Top","Bottom"],j=k.toLowerCase(),l={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+k]=function(i){return i===b?l["inner"+k].call(this):this.each(function(){f(this).css(j,e(this,i)+"px")})},f.fn["outer"+k]=function(i,o){return typeof i!="number"?l["outer"+k].call(this,i):this.each(function(){f(this).css(j,e(this,i,!0,o)+"px")})}}),f.fn.addBack||(f.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}),f("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(f.fn.removeData=function(e){return function(h){return arguments.length?e.call(this,f.camelCase(h)):e.call(this)}}(f.fn.removeData)),f.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),f.support.selectstart="onselectstart" in document.createElement("div"),f.fn.extend({disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(h){h.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.extend(f.ui,{plugin:{add:function(h,l,k){var e,j=f.ui[h].prototype;for(e in k){j.plugins[e]=j.plugins[e]||[],j.plugins[e].push([l,k[e]])}},call:function(l,j,m){var k,h=l.plugins[j];if(!h||!l.element[0].parentNode||l.element[0].parentNode.nodeType===11){return}for(k=0;k<h.length;k++){l.options[h[k][0]]&&h[k][1].apply(l.element,m)}}},hasScroll:function(h,k){if(f(h).css("overflow")==="hidden"){return !1}var j=k&&k==="left"?"scrollLeft":"scrollTop",e=!1;return h[j]>0?!0:(h[j]=1,e=h[j]>0,h[j]=0,e)}})})(jQuery);(function(d,b){var f=0,c=Array.prototype.slice,a=d.cleanData;d.cleanData=function(e){for(var i=0,h;(h=e[i])!=null;i++){try{d(h).triggerHandler("remove")}catch(g){}}a(e)},d.widget=function(p,h,e){var j,q,g,m,l={},k=p.split(".")[0];p=p.split(".")[1],j=k+"-"+p,e||(e=h,h=d.Widget),d.expr[":"][j.toLowerCase()]=function(i){return !!d.data(i,j)},d[k]=d[k]||{},q=d[k][p],g=d[k][p]=function(n,i){if(!this._createWidget){return new g(n,i)}arguments.length&&this._createWidget(n,i)},d.extend(g,q,{version:e.version,_proto:d.extend({},e),_childConstructors:[]}),m=new h,m.options=d.widget.extend({},m.options),d.each(e,function(i,n){if(!d.isFunction(n)){l[i]=n;return}l[i]=function(){var r=function(){return h.prototype[i].apply(this,arguments)},o=function(s){return h.prototype[i].apply(this,s)};return function(){var u=this._super,w=this._superApply,v;return this._super=r,this._superApply=o,v=n.apply(this,arguments),this._super=u,this._superApply=w,v}}()}),g.prototype=d.widget.extend(m,{widgetEventPrefix:q?m.widgetEventPrefix:p},l,{constructor:g,namespace:k,widgetName:p,widgetFullName:j}),q?(d.each(q._childConstructors,function(i,s){var o=s.prototype;d.widget(o.namespace+"."+o.widgetName,g,s._proto)}),delete q._childConstructors):h._childConstructors.push(g),d.widget.bridge(p,g)},d.widget.extend=function(l){var h=c.call(arguments,1),j=0,k=h.length,g,e;for(;j<k;j++){for(g in h[j]){e=h[j][g],h[j].hasOwnProperty(g)&&e!==b&&(d.isPlainObject(e)?l[g]=d.isPlainObject(l[g])?d.widget.extend({},l[g],e):d.widget.extend({},e):l[g]=e)}}return l},d.widget.bridge=function(h,e){var g=e.prototype.widgetFullName||h;d.fn[h]=function(l){var j=typeof l=="string",i=c.call(arguments,1),k=this;return l=!j&&i.length?d.widget.extend.apply(null,[l].concat(i)):l,j?this.each(function(){var n,m=d.data(this,g);if(!m){return d.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+l+"'")}if(!d.isFunction(m[l])||l.charAt(0)==="_"){return d.error("no such method '"+l+"' for "+h+" widget instance")}n=m[l].apply(m,i);if(n!==m&&n!==b){return k=n&&n.jquery?k.pushStack(n.get()):n,!1}}):this.each(function(){var m=d.data(this,g);m?m.option(l||{})._init():d.data(this,g,new e(l,this))}),k}},d.Widget=function(){},d.Widget._childConstructors=[],d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,g){g=d(g||this.defaultElement||this)[0],this.element=d(g),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=d.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=d(),this.hoverable=d(),this.focusable=d(),g!==this&&(d.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===g&&this.destroy()}}),this.document=d(g.style?g.ownerDocument:g.document||g),this.window=d(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(l,j){var g=l,h,k,e;if(arguments.length===0){return d.widget.extend({},this.options)}if(typeof l=="string"){g={},h=l.split("."),l=h.shift();if(h.length){k=g[l]=d.widget.extend({},this.options[l]);for(e=0;e<h.length-1;e++){k[h[e]]=k[h[e]]||{},k=k[h[e]]}l=h.pop();if(j===b){return k[l]===b?null:k[l]}k[l]=j}else{if(j===b){return this.options[l]===b?null:this.options[l]}g[l]=j}}return this._setOptions(g),this},_setOptions:function(h){var g;for(g in h){this._setOption(g,h[g])}return this},_setOption:function(h,g){return this.options[h]=g,h==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,k,j){var e,h=this;typeof g!="boolean"&&(j=k,k=g,g=!1),j?(k=e=d(k),this.bindings=this.bindings.add(k)):(j=k,k=this.element,e=this.widget()),d.each(j,function(p,s){function n(){if(!g&&(h.options.disabled===!0||d(this).hasClass("ui-state-disabled"))){return}return(typeof s=="string"?h[s]:s).apply(h,arguments)}typeof s!="string"&&(n.guid=s.guid=s.guid||n.guid||d.guid++);var m=p.match(/^(\w+)\s*(.*)$/),q=m[1]+h.eventNamespace,i=m[2];i?e.delegate(i,q,n):k.bind(q,n)})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.unbind(g).undelegate(g)},_delay:function(i,g){function j(){return(typeof i=="string"?h[i]:i).apply(h,arguments)}var h=this;return setTimeout(j,g||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(g){d(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){d(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(g){d(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){d(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(g,l,j){var e,h,k=this.options[g];j=j||{},l=d.Event(l),l.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase(),l.target=this.element[0],h=l.originalEvent;if(h){for(e in h){e in l||(l[e]=h[e])}}return this.element.trigger(l,j),!(d.isFunction(k)&&k.apply(this.element[0],[l].concat(j))===!1||l.isDefaultPrevented())}},d.each({show:"fadeIn",hide:"fadeOut"},function(e,g){d.Widget.prototype["_"+e]=function(l,j,k){typeof j=="string"&&(j={effect:j});var m,h=j?j===!0||typeof j=="number"?g:j.effect||g:e;j=j||{},typeof j=="number"&&(j={duration:j}),m=!d.isEmptyObject(j),j.complete=k,j.delay&&l.delay(j.delay),m&&d.effects&&d.effects.effect[h]?l[e](j):h!==e&&l[h]?l[h](j.duration,j.easing,k):l.queue(function(i){d(this)[e](),k&&k.call(l[0]),i()})}})})(jQuery);(function(b,a){var c=!1;b(document).mouseup(function(){c=!1}),b.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(f){return d._mouseDown(f)}).bind("click."+this.widgetName,function(e){if(!0===b.data(e.target,d.widgetName+".preventClickEvent")){return b.removeData(e.target,d.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(c){return}this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var g=this,d=e.which===1,f=typeof this.options.cancel=="string"&&e.target.nodeName?b(e.target).closest(this.options.cancel).length:!1;if(!d||f||!this._mouseCapture(e)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==!1;if(!this._mouseStarted){return e.preventDefault(),!0}}return !0===b.data(e.target,this.widgetName+".preventClickEvent")&&b.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(h){return g._mouseMove(h)},this._mouseUpDelegate=function(h){return g._mouseUp(h)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0},_mouseMove:function(d){return b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button?this._mouseUp(d):this._mouseStarted?(this._mouseDrag(d),d.preventDefault()):(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==!1,this._mouseStarted?this._mouseDrag(d):this._mouseUp(d)),!this._mouseStarted)},_mouseUp:function(d){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,d.target===this._mouseDownEvent.target&&b.data(d.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(d)),!1},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(c,a){function d(f){return parseInt(f,10)||0}function b(f){return !isNaN(parseInt(f,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var g,l,j,f,h,k=this,e=this.options;this.element.addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=e.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String){this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),g=this.handles.split(","),this.handles={};for(l=0;l<g.length;l++){j=c.trim(g[l]),h="ui-resizable-"+j,f=c("<div class='ui-resizable-handle "+h+"'></div>"),f.css({zIndex:e.zIndex}),"se"===j&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[j]=".ui-resizable-"+j,this.element.append(f)}}this._renderAxis=function(o){var u,q,m,p;o=o||this.element;for(u in this.handles){this.handles[u].constructor===String&&(this.handles[u]=c(this.handles[u],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(q=c(this.handles[u],this.element),p=/sw|ne|nw|se|n|s/.test(u)?q.outerHeight():q.outerWidth(),m=["padding",/ne|nw|n/.test(u)?"Top":/se|sw|s/.test(u)?"Bottom":/^e$/.test(u)?"Right":"Left"].join(""),o.css(m,p),this._proportionallyResize());if(!c(this.handles[u]).length){continue}}},this._renderAxis(this.element),this._handles=c(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){k.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=f&&f[1]?f[1]:"se")}),e.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(e.disabled){return}c(this).removeClass("ui-resizable-autohide"),k._handles.show()}).mouseleave(function(){if(e.disabled){return}k.resizing||(c(this).addClass("ui-resizable-autohide"),k._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,f=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(f(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),f(this.originalElement),this},_mouseCapture:function(f){var h,g,e=!1;for(h in this.handles){g=c(this.handles[h])[0];if(g===f.target||c.contains(g,f.target)){e=!0}}return !this.options.disabled&&e},_mouseStart:function(h){var k,g,j,l=this.options,f=this.element.position(),e=this.element;return this.resizing=!0,/absolute/.test(e.css("position"))?e.css({position:"absolute",top:e.css("top"),left:e.css("left")}):e.is(".ui-draggable")&&e.css({position:"absolute",top:f.top,left:f.left}),this._renderProxy(),k=d(this.helper.css("left")),g=d(this.helper.css("top")),l.containment&&(k+=c(l.containment).scrollLeft()||0,g+=c(l.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:k,top:g},this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()},this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()},this.originalPosition={left:k,top:g},this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()},this.originalMousePosition={left:h.pageX,top:h.pageY},this.aspectRatio=typeof l.aspectRatio=="number"?l.aspectRatio:this.originalSize.width/this.originalSize.height||1,j=c(".ui-resizable-"+this.axis).css("cursor"),c("body").css("cursor",j==="auto"?this.axis+"-resize":j),e.addClass("ui-resizable-resizing"),this._propagate("start",h),!0},_mouseDrag:function(A){var k,e=this.helper,q={},B=this.originalMousePosition,j=this.axis,z=this.position.top,y=this.position.left,w=this.size.width,m=this.size.height,x=A.pageX-B.left||0,v=A.pageY-B.top||0,g=this._change[j];if(!g){return !1}k=g.apply(this,[A,x,v]),this._updateVirtualBoundaries(A.shiftKey);if(this._aspectRatio||A.shiftKey){k=this._updateRatio(k,A)}return k=this._respectSize(k,A),this._updateCache(k),this._propagate("resize",A),this.position.top!==z&&(q.top=this.position.top+"px"),this.position.left!==y&&(q.left=this.position.left+"px"),this.size.width!==w&&(q.width=this.size.width+"px"),this.size.height!==m&&(q.height=this.size.height+"px"),e.css(q),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),c.isEmptyObject(q)||this._trigger("resize",A,this.ui()),!1},_mouseStop:function(v){this.resizing=!1;var h,e,k,w,g,q,p,m=this.options,j=this;return this._helper&&(h=this._proportionallyResizeElements,e=h.length&&/textarea/i.test(h[0].nodeName),k=e&&c.ui.hasScroll(h[0],"left")?0:j.sizeDiff.height,w=e?0:j.sizeDiff.width,g={width:j.helper.width()-w,height:j.helper.height()-k},q=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null,p=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null,m.animate||this.element.css(c.extend(g,{top:p,left:q})),j.helper.height(j.size.height),j.helper.width(j.size.width),this._helper&&!m.animate&&this._proportionallyResize()),c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",v),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(k){var h,m,g,j,l,f=this.options;l={minWidth:b(f.minWidth)?f.minWidth:0,maxWidth:b(f.maxWidth)?f.maxWidth:Infinity,minHeight:b(f.minHeight)?f.minHeight:0,maxHeight:b(f.maxHeight)?f.maxHeight:Infinity};if(this._aspectRatio||k){h=l.minHeight*this.aspectRatio,g=l.minWidth/this.aspectRatio,m=l.maxHeight*this.aspectRatio,j=l.maxWidth/this.aspectRatio,h>l.minWidth&&(l.minWidth=h),g>l.minHeight&&(l.minHeight=g),m<l.maxWidth&&(l.maxWidth=m),j<l.maxHeight&&(l.maxHeight=j)}this._vBoundaries=l},_updateCache:function(f){this.offset=this.helper.offset(),b(f.left)&&(this.position.left=f.left),b(f.top)&&(this.position.top=f.top),b(f.height)&&(this.size.height=f.height),b(f.width)&&(this.size.width=f.width)},_updateRatio:function(h){var g=this.position,j=this.size,f=this.axis;return b(h.height)?h.width=h.height*this.aspectRatio:b(h.width)&&(h.height=h.width/this.aspectRatio),f==="sw"&&(h.left=g.left+(j.width-h.width),h.top=null),f==="nw"&&(h.top=g.top+(j.height-h.height),h.left=g.left+(j.width-h.width)),h},_respectSize:function(p){var w=this._vBoundaries,h=this.axis,k=b(p.width)&&w.maxWidth&&w.maxWidth<p.width,x=b(p.height)&&w.maxHeight&&w.maxHeight<p.height,g=b(p.width)&&w.minWidth&&w.minWidth>p.width,v=b(p.height)&&w.minHeight&&w.minHeight>p.height,r=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,j=/sw|nw|w/.test(h),q=/nw|ne|n/.test(h);return g&&(p.width=w.minWidth),v&&(p.height=w.minHeight),k&&(p.width=w.maxWidth),x&&(p.height=w.maxHeight),g&&j&&(p.left=r-w.minWidth),k&&j&&(p.left=r-w.maxWidth),v&&q&&(p.top=m-w.minHeight),x&&q&&(p.top=m-w.maxHeight),!p.width&&!p.height&&!p.left&&p.top?p.top=null:!p.width&&!p.height&&!p.top&&p.left&&(p.left=null),p},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var k,g,l,j,f,h=this.helper||this.element;for(k=0;k<this._proportionallyResizeElements.length;k++){f=this._proportionallyResizeElements[k];if(!this.borderDif){this.borderDif=[],l=[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")],j=[f.css("paddingTop"),f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];for(g=0;g<l.length;g++){this.borderDif[g]=(parseInt(l[g],10)||0)+(parseInt(j[g],10)||0)}}f.css({height:h.height()-this.borderDif[0]-this.borderDif[2]||0,width:h.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,f=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||c("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(g,f){return{width:this.originalSize.width+f}},w:function(h,f){var i=this.originalSize,g=this.originalPosition;return{left:g.left+f,width:i.width-f}},n:function(j,g,k){var h=this.originalSize,f=this.originalPosition;return{top:f.top+k,height:h.height-k}},s:function(g,f,h){return{height:this.originalSize.height+h}},se:function(e,g,f){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,g,f]))},sw:function(e,g,f){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,g,f]))},ne:function(e,g,f){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,g,f]))},nw:function(e,g,f){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,g,f]))}},_propagate:function(e,f){c.ui.plugin.call(this,e,[f,this.ui()]),e!=="resize"&&this._trigger(e,f,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.ui.plugin.add("resizable","animate",{stop:function(v){var h=c(this).data("ui-resizable"),e=h.options,k=h._proportionallyResizeElements,w=k.length&&/textarea/i.test(k[0].nodeName),g=w&&c.ui.hasScroll(k[0],"left")?0:h.sizeDiff.height,q=w?0:h.sizeDiff.width,p={width:h.size.width-q,height:h.size.height-g},m=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,j=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(c.extend(p,j&&m?{top:j,left:m}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var f={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),10)};k&&k.length&&c(k[0]).css({width:f.width,height:f.height}),h._updateCache(f),h._propagate("resize",v)}})}}),c.ui.plugin.add("resizable","containment",{start:function(){var y,e,m,z,j,x,w,q=c(this).data("ui-resizable"),k=q.options,v=q.element,n=k.containment,g=n instanceof c?n.get(0):/parent/.test(n)?v.parent().get(0):n;if(!g){return}q.containerElement=c(g),/document/.test(n)||n===document?(q.containerOffset={left:0,top:0},q.containerPosition={left:0,top:0},q.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}):(y=c(g),e=[],c(["Top","Right","Left","Bottom"]).each(function(h,f){e[h]=d(y.css("padding"+f))}),q.containerOffset=y.offset(),q.containerPosition=y.position(),q.containerSize={height:y.innerHeight()-e[3],width:y.innerWidth()-e[1]},m=q.containerOffset,z=q.containerSize.height,j=q.containerSize.width,x=c.ui.hasScroll(g,"left")?g.scrollWidth:j,w=c.ui.hasScroll(g)?g.scrollHeight:z,q.parentData={element:g,left:m.left,top:m.top,width:x,height:w})},resize:function(y){var j,e,m,z,g=c(this).data("ui-resizable"),x=g.options,w=g.containerOffset,q=g.position,k=g._aspectRatio||y.shiftKey,v={top:0,left:0},p=g.containerElement;p[0]!==document&&/static/.test(p.css("position"))&&(v=w),q.left<(g._helper?w.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-w.left:g.position.left-v.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=x.helper?w.left:0),q.top<(g._helper?w.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-w.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?w.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,j=Math.abs((g._helper?g.offset.left-v.left:g.offset.left-v.left)+g.sizeDiff.width),e=Math.abs((g._helper?g.offset.top-v.top:g.offset.top-w.top)+g.sizeDiff.height),m=g.containerElement.get(0)===g.element.parent().get(0),z=/relative|absolute/.test(g.containerElement.css("position")),m&&z&&(j-=g.parentData.left),j+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-j,k&&(g.size.height=g.size.width/g.aspectRatio)),e+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-e,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var p=c(this).data("ui-resizable"),h=p.options,e=p.containerOffset,j=p.containerPosition,q=p.containerElement,g=c(p.helper),m=g.offset(),l=g.outerWidth()-p.sizeDiff.width,k=g.outerHeight()-p.sizeDiff.height;p._helper&&!h.animate&&/relative/.test(q.css("position"))&&c(this).css({left:m.left-j.left-e.left,width:l,height:k}),p._helper&&!h.animate&&/static/.test(q.css("position"))&&c(this).css({left:m.left-j.left-e.left,width:l,height:k})}}),c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),g=e.options,f=function(h){c(h).each(function(){var i=c(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})})};typeof g.alsoResize=="object"&&!g.alsoResize.parentNode?g.alsoResize.length?(g.alsoResize=g.alsoResize[0],f(g.alsoResize)):c.each(g.alsoResize,function(h){f(h)}):f(g.alsoResize)},resize:function(h,m){var k=c(this).data("ui-resizable"),g=k.options,j=k.originalSize,l=k.originalPosition,f={height:k.size.height-j.height||0,width:k.size.width-j.width||0,top:k.position.top-l.top||0,left:k.position.left-l.left||0},e=function(i,n){c(i).each(function(){var q=c(this),p=c(this).data("ui-resizable-alsoresize"),r={},u=n&&n.length?n:q.parents(m.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(u,function(s,o){var v=(p[o]||0)+(f[o]||0);v&&v>=0&&(r[o]=v||null)}),q.css(r)})};typeof g.alsoResize=="object"&&!g.alsoResize.nodeType?c.each(g.alsoResize,function(n,i){e(n,i)}):e(g.alsoResize)},stop:function(){c(this).removeData("resizable-alsoresize")}}),c.ui.plugin.add("resizable","ghost",{start:function(){var e=c(this).data("ui-resizable"),g=e.options,f=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost=="string"?g.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=c(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=c(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(){var H=c(this).data("ui-resizable"),q=H.options,e=H.size,y=H.originalSize,I=H.originalPosition,k=H.axis,G=typeof q.grid=="number"?[q.grid,q.grid]:q.grid,E=G[0]||1,B=G[1]||1,x=Math.round((e.width-y.width)/E)*E,D=Math.round((e.height-y.height)/B)*B,z=y.width+x,j=y.height+D,C=q.maxWidth&&q.maxWidth<z,F=q.maxHeight&&q.maxHeight<j,w=q.minWidth&&q.minWidth>z,A=q.minHeight&&q.minHeight>j;q.grid=G,w&&(z+=E),A&&(j+=B),C&&(z-=E),F&&(j-=B),/^(se|s|e)$/.test(k)?(H.size.width=z,H.size.height=j):/^(ne)$/.test(k)?(H.size.width=z,H.size.height=j,H.position.top=I.top-D):/^(sw)$/.test(k)?(H.size.width=z,H.size.height=j,H.position.left=I.left-x):(H.size.width=z,H.size.height=j,H.position.top=I.top-D,H.position.left=I.left-x)}})})(jQuery);