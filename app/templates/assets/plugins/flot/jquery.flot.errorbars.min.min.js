(function(r){var j={series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}};function m(f,d,c,a){if(!d.points.errorbars){return}var b=[{x:true,number:true,required:true},{y:true,number:true,required:true}];var e=d.points.errorbars;if(e=="x"||e=="xy"){if(d.points.xerr.asymmetric){b.push({x:true,number:true,required:true});b.push({x:true,number:true,required:true})}else{b.push({x:true,number:true,required:true})}}if(e=="y"||e=="xy"){if(d.points.yerr.asymmetric){b.push({y:true,number:true,required:true});b.push({y:true,number:true,required:true})}else{b.push({y:true,number:true,required:true})}}a.format=b}function k(e,d){var u=e.datapoints.points;var c=null,h=null,g=null,v=null;var i=e.points.xerr,a=e.points.yerr;var b=e.points.errorbars;if(b=="x"||b=="xy"){if(i.asymmetric){c=u[d+2];h=u[d+3];if(b=="xy"){if(a.asymmetric){g=u[d+4];v=u[d+5]}else{g=u[d+4]}}}else{c=u[d+2];if(b=="xy"){if(a.asymmetric){g=u[d+3];v=u[d+4]}else{g=u[d+3]}}}}else{if(b=="y"){if(a.asymmetric){g=u[d+2];v=u[d+3]}else{g=u[d+2]}}}if(h==null){h=c}if(v==null){v=g}var f=[c,h,g,v];if(!i.show){f[0]=null;f[1]=null}if(!a.show){f[2]=null;f[3]=null}return f}function o(O,b,w){var x=w.datapoints.points,g=w.datapoints.pointsize,L=[w.xaxis,w.yaxis],U=w.points.radius,S=[w.points.xerr,w.points.yerr];var s=false;if(L[0].p2c(L[0].max)<L[0].p2c(L[0].min)){s=true;var d=S[0].lowerCap;S[0].lowerCap=S[0].upperCap;S[0].upperCap=d}var N=false;if(L[1].p2c(L[1].min)<L[1].p2c(L[1].max)){N=true;var d=S[1].lowerCap;S[1].lowerCap=S[1].upperCap;S[1].upperCap=d}for(var i=0;i<w.datapoints.points.length;i+=g){var y=k(w,i);for(var e=0;e<S.length;e++){var R=[L[e].min,L[e].max];if(y[e*S.length]){var P=x[i],Q=x[i+1];var f=[P,Q][e]+y[e*S.length+1],a=[P,Q][e]-y[e*S.length];if(S[e].err=="x"){if(Q>L[1].max||Q<L[1].min||f<L[0].min||a>L[0].max){continue}}if(S[e].err=="y"){if(P>L[0].max||P<L[0].min||f<L[1].min||a>L[1].max){continue}}var c=true,V=true;if(f>R[1]){c=false;f=R[1]}if(a<R[0]){V=false;a=R[0]}if((S[e].err=="x"&&s)||(S[e].err=="y"&&N)){var d=a;a=f;f=d;d=V;V=c;c=d;d=R[0];R[0]=R[1];R[1]=d}P=L[0].p2c(P),Q=L[1].p2c(Q),f=L[e].p2c(f);a=L[e].p2c(a);R[0]=L[e].p2c(R[0]);R[1]=L[e].p2c(R[1]);var T=S[e].lineWidth?S[e].lineWidth:w.points.lineWidth,h=w.points.shadowSize!=null?w.points.shadowSize:w.shadowSize;if(T>0&&h>0){var M=h/2;b.lineWidth=M;b.strokeStyle="rgba(0,0,0,0.1)";q(b,S[e],P,Q,f,a,c,V,U,M+M/2,R);b.strokeStyle="rgba(0,0,0,0.2)";q(b,S[e],P,Q,f,a,c,V,U,M/2,R)}b.strokeStyle=S[e].color?S[e].color:w.color;b.lineWidth=T;q(b,S[e],P,Q,f,a,c,V,U,0,R)}}}}function q(u,g,a,b,v,e,c,i,d,f,h){b+=f;v+=f;e+=f;if(g.err=="x"){if(v>a+d){p(u,[[v,b],[Math.max(a+d,h[0]),b]])}else{c=false}if(e<a-d){p(u,[[Math.min(a-d,h[1]),b],[e,b]])}else{i=false}}else{if(v<b-d){p(u,[[a,v],[a,Math.min(b-d,h[0])]])}else{c=false}if(e>b+d){p(u,[[a,Math.max(b+d,h[1])],[a,e]])}else{i=false}}d=g.radius!=null?g.radius:d;if(c){if(g.upperCap=="-"){if(g.err=="x"){p(u,[[v,b-d],[v,b+d]])}else{p(u,[[a-d,v],[a+d,v]])}}else{if(r.isFunction(g.upperCap)){if(g.err=="x"){g.upperCap(u,v,b,d)}else{g.upperCap(u,a,v,d)}}}}if(i){if(g.lowerCap=="-"){if(g.err=="x"){p(u,[[e,b-d],[e,b+d]])}else{p(u,[[a-d,e],[a+d,e]])}}else{if(r.isFunction(g.lowerCap)){if(g.err=="x"){g.lowerCap(u,e,b,d)}else{g.lowerCap(u,a,e,d)}}}}}function p(c,a){c.beginPath();c.moveTo(a[0][0],a[0][1]);for(var b=1;b<a.length;b++){c.lineTo(a[b][0],a[b][1])}c.stroke()}function n(a,c){var b=a.getPlotOffset();c.save();c.translate(b.left,b.top);r.each(a.getData(),function(d,e){if(e.points.errorbars&&(e.points.xerr.show||e.points.yerr.show)){o(a,c,e)}});c.restore()}function l(a){a.hooks.processRawData.push(m);a.hooks.draw.push(n)}r.plot.plugins.push({init:l,options:j,name:"errorbars",version:"1.0"})})(jQuery);