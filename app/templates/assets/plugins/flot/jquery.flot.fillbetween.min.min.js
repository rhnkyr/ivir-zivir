(function(d){var e={series:{fillBetween:null}};function f(a){function c(i,k){var l;for(l=0;l<k.length;++l){if(k[l].id===i.fillBetween){return k[l]}}if(typeof i.fillBetween==="number"){if(i.fillBetween<0||i.fillBetween>=k.length){return null}return k[i.fillBetween]}return null}function b(P,L,Z){if(L.fillBetween==null){return}var U=c(L,P.getData());if(!U){return}var i=Z.pointsize,K=Z.points,Y=U.datapoints.pointsize,l=U.datapoints.points,Q=[],s,J,X,m,I,S,N=L.lines.show,V=i>2&&Z.format[2].y,W=N&&L.lines.steps,M=true,O=0,R=0,T,j;while(true){if(O>=K.length){break}T=Q.length;if(K[O]==null){for(j=0;j<i;++j){Q.push(K[O+j])}O+=i}else{if(R>=l.length){if(!N){for(j=0;j<i;++j){Q.push(K[O+j])}}O+=i}else{if(l[R]==null){for(j=0;j<i;++j){Q.push(null)}M=true;R+=Y}else{s=K[O];J=K[O+1];m=l[R];I=l[R+1];S=0;if(s===m){for(j=0;j<i;++j){Q.push(K[O+j])}S=I;O+=i;R+=Y}else{if(s>m){if(N&&O>0&&K[O-i]!=null){X=J+(K[O-i+1]-J)*(m-s)/(K[O-i]-s);Q.push(m);Q.push(X);for(j=2;j<i;++j){Q.push(K[O+j])}S=I}R+=Y}else{if(M&&N){O+=i;continue}for(j=0;j<i;++j){Q.push(K[O+j])}if(N&&R>0&&l[R-Y]!=null){S=I+(l[R-Y+1]-I)*(s-m)/(l[R-Y]-m)}O+=i}}M=false;if(T!==Q.length&&V){Q[T+2]=S}}}}if(W&&T!==Q.length&&T>0&&Q[T]!==null&&Q[T]!==Q[T-i]&&Q[T+1]!==Q[T-i+1]){for(j=0;j<i;++j){Q[T+i+j]=Q[T+j]}Q[T+1]=Q[T-i+1]}}Z.points=Q}a.hooks.processDatapoints.push(b)}d.plot.plugins.push({init:f,options:e,name:"fillbetween",version:"1.0"})})(jQuery);